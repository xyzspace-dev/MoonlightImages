{
  "Name": "Folia",
  "Author": "hey@xyzjesper.dev",
  "UpdateUrl": null,
  "DonateUrl": "https://ko-fi.com/xyzjesper",
  "StartupCommand": "java --add-modules=jdk.incubator.vector -Xms128M -Xmx{{SERVER_MEMORY}}M -Dterminal.jline=false -Dterminal.ansi=true -jar {{SERVER_JARFILE}}",
  "OnlineDetection": "Done",
  "StopCommand": "stop",
  "InstallShell": "/bin/bash",
  "InstallDockerImage": "debian:latest",
  "InstallScript": "echo -e \"Started Installation\"\r\n\r\napt update\r\napt -y install curl jq\r\n\r\nif [ \"${MINECRAFT_VERSION}\" == \"latest\" ]; then\r\n    LATEST_VERSION=$(curl -s https://fill.papermc.io/v3/projects/folia/versions | jq -r '.versions[0].version.id')\r\n    MINECRAFT_VERSION=${LATEST_VERSION}\r\nfi\r\n\r\necho \"Version being downloaded\"\r\necho -e \"MC Version: ${MINECRAFT_VERSION}\"\r\n\r\nDOWNLOAD_URL=https://fill.papermc.io/v3/projects/folia/versions/${MINECRAFT_VERSION}/builds/latest\r\n\r\ncd /mnt/server\r\n\r\necho -e \"Running curl -o ${SERVER_JARFILE} ${DOWNLOAD_URL}\"\r\n\r\nif [ -f ${SERVER_JARFILE} ]; then\r\n    mv ${SERVER_JARFILE} ${SERVER_JARFILE}.old\r\nfi\r\n\r\nFILL_DATA_URL=$(curl -s ${DOWNLOAD_URL} | jq -r '.downloads.\"server:default\".url')\r\n\r\ncurl -o ${SERVER_JARFILE} ${FILL_DATA_URL}\r\n\r\necho \"Successfully Downloaded ${MINECRAFT_VERSION}\"",
  "ParseConfiguration": "[{\"Type\":\"properties\",\"File\":\"server.properties\",\"Configuration\":{\"server-ip\":\"0.0.0.0\",\"server-port\":\"{{SERVER_PORT}}\"}},{\"Type\":\"properties\",\"File\":\"eula.txt\",\"Configuration\":{\"eula\":\"true\"}}]",
  "AllocationsNeeded": 1,
  "Variables": [
    {
      "Key": "MINECRAFT_VERSION",
      "DefaultValue": "latest",
      "DisplayName": "Minecraft Version\t",
      "Description": "Your minecraft version for the server",
      "AllowView": true,
      "AllowEdit": true,
      "Filter": null
    },
    {
      "Key": "SERVER_JARFILE",
      "DefaultValue": "server.jar",
      "DisplayName": "Server Jar File",
      "Description": "The jarfile your server is executing",
      "AllowView": true,
      "AllowEdit": true,
      "Filter": null
    }
  ],
  "DefaultDockerImage": 0,
  "AllowDockerImageChange": true,
  "DockerImages": [
    {
      "DisplayName": "Java 19",
      "Name": "ghcr.io/xyzspace-dev/moonlightdockerimages:java19",
      "AutoPull": true
    },
    {
      "DisplayName": "Java 20",
      "Name": "ghcr.io/xyzspace-dev/moonlightdockerimages:java20",
      "AutoPull": true
    },
    {
      "DisplayName": "Java 21",
      "Name": "ghcr.io/xyzspace-dev/moonlightdockerimages:java21",
      "AutoPull": true
    },
    {
      "DisplayName": "Java 22",
      "Name": "ghcr.io/xyzspace-dev/moonlightdockerimages:java22",
      "AutoPull": true
    },
    {
      "DisplayName": "Java 8",
      "Name": "ghcr.io/xyzspace-dev/moonlightdockerimages:java8",
      "AutoPull": true
    },
    {
      "DisplayName": "Java 11",
      "Name": "ghcr.io/xyzspace-dev/moonlightdockerimages:java11",
      "AutoPull": true
    },
    {
      "DisplayName": "Java 16",
      "Name": "ghcr.io/xyzspace-dev/moonlightdockerimages:java16",
      "AutoPull": true
    },
    {
      "DisplayName": "Java 17",
      "Name": "ghcr.io/xyzspace-dev/moonlightdockerimages:java17",
      "AutoPull": true
    },
    {
      "DisplayName": "Java 18",
      "Name": "ghcr.io/xyzspace-dev/moonlightdockerimages:java18",
      "AutoPull": true
    }
  ]
}